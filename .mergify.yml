queue_rules:
  - name: main
    batch_size: 3
    batch_max_wait_time: 1h
    checks_timeout: 12h
    merge_method: squash
    update_method: rebase
    merge_conditions:
      - check-success = run-e2e-tests / fhevm-e2e-test
    queue_conditions:
      - base = main
      - label!=do-not-merge

pull_request_rules:
  - name: merge-queued-label
    description: Toggle the `merge-queued` label when a pull request is queued
    conditions:
      - queue-position > 0
    actions:
      label:
        toggle:
          - merge-queued

