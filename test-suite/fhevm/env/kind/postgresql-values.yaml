# =============================================================================
# PostgreSQL Configuration for Kind Deployment
# =============================================================================
# Uses local postgresql-local Helm chart (charts/postgresql-local)
# Official PostgreSQL image: postgres:15
# =============================================================================

# -----------------------------------------------------------------------------
# Image Configuration
# -----------------------------------------------------------------------------
image:
  repository: postgres
  tag: "15"
  pullPolicy: IfNotPresent

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
auth:
  postgresPassword: postgres
  database: coprocessor

# -----------------------------------------------------------------------------
# Extra Databases
# -----------------------------------------------------------------------------
# Additional databases to create on startup via init script
# The main database (coprocessor) is created via POSTGRES_DB env var
extraDatabases:
  - connector
  - relayer

# -----------------------------------------------------------------------------
# Service Configuration
# -----------------------------------------------------------------------------
service:
  type: ClusterIP
  port: 5432

# -----------------------------------------------------------------------------
# Persistence
# -----------------------------------------------------------------------------
persistence:
  enabled: true
  size: 2Gi

# -----------------------------------------------------------------------------
# Resource Limits
# -----------------------------------------------------------------------------
resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi
