# Example configuration for KMS Connector's `GatewayListener`

# Service name for tracing (optional, defaults to "kms-connector-gw-listener")
# ENV: KMS_CONNECTOR_SERVICE_NAME
# service_name = "kms-connector-gw-listener"

# Chain ID for the Gateway network (required)
# ENV: KMS_CONNECTOR_CHAIN_ID
chain_id = 54321

# Gateway WebSocket RPC URL endpoint (required)
# ENV: KMS_CONNECTOR_GATEWAY_URL
gateway_url = "ws://gateway-node:8546"

# URL of the KMS Connector internal database (required)
# Format: see https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNSTRING-URIS
# ENV: KMS_CONNECTOR_DATABASE_URL
database_url = "postgres://postgres:postgres@localhost"

# Configuration of the Decryption contract (required)
[decryption_contract]
# Address of the Decryption contract (required)
# Format: hex string with 0x prefix
# ENV: KMS_CONNECTOR_DECRYPTION_CONTRACT__ADDRESS
address = "0xF0bFB159C7381F7CB332586004d8247252C5b816"
# EIP-712 domain name for Decryption contract (optional, defaults to "Decryption")
# ENV: KMS_CONNECTOR_DECRYPTION_CONTRACT__DOMAIN_NAME
# domain_name = "Decryption"
# EIP-712 domain version for Decryption contract (optional, defaults to "1")
# ENV: KMS_CONNECTOR_DECRYPTION_DOMAIN_VERSION
# domain_version = "1"

# Configuration of the KmsManagement contract (required)
[kms_management_contract]
# Address of the KmsManagement contract (required)
# Format: hex string with 0x prefix
# ENV: KMS_CONNECTOR_KMS_MANAGEMENT_CONTRACT__ADDRESS
address = "0x5ffdaAB0373E62E2ea2944776209aEf29E631A64"
# EIP-712 domain name for KmsManagement contract (optional, defaults to "KmsManagement")
# ENV: KMS_CONNECTOR_KMS_MANAGEMENT_CONTRACT__DOMAIN_NAME
# domain_name = "KmsManagement"
# EIP-712 domain version for KmsManagement contract (optional, defaults to "1")
# ENV: KMS_CONNECTOR_KMS_MANAGEMENT_CONTRACT__DOMAIN_VERSION
# domain_version = "1"

# The endpoint used to monitor the connector components (optional, defaults to "0.0.0.0:9100")
# ENV: KMS_CONNECTOR_MONITORING_ENDPOINT
# monitoring_endpoint = "0.0.0.0:9100"

# The timeout to perform each external service connection healthcheck (optional, defaults to 3s)
# ENV: KMS_CONNECTOR_HEALTHCHECK_TIMEOUT_SECS
# healthcheck_timeout_secs = 3

# The maximum number of tasks to process events/responses concurrently (optional, defaults to 1000)
# ENV: KMS_CONNECTOR_TASK_LIMIT
# task_limit = 1000

# The polling interval for decryption requests (optional, defaults to 1000ms)
# ENV: KMS_CONNECTOR_DECRYPTION_POLLING_MS
# decryption_polling_ms = 1000

# The polling interval for key management requests (optional, defaults to 30000ms)
# ENV: KMS_CONNECTOR_KMS_MANAGEMENT_POLLING_MS
# key_management_polling_ms = 30000

# Block number to start processing from (optional, defaults to latest block if not set)
# ENV: KMS_CONNECTOR_FROM_BLOCK_NUMBER
# from_block_number = 1234
