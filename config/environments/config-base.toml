# Example configuration for KMS Connector

# Service name for tracing (optional, defaults to "kms-connector")
# ENV: KMS_CONNECTOR_SERVICE_NAME
service_name = "kms-connector"

# BIP39 mnemonic phrase for wallet generation (required)
# This is used to derive the private key for signing responses
# IMPORTANT: Keep this secure and never share it!
# ENV: KMS_CONNECTOR_MNEMONIC
mnemonic = "coyote sketch defense hover finger envelope celery urge panther venue verb cheese"

# Chain ID for the Gateway network (required)
# ENV: KMS_CONNECTOR_CHAIN_ID
chain_id = 54321

# Address of the Decryption contract (required)
# Format: hex string with 0x prefix
# ENV: KMS_CONNECTOR_DECRYPTION_ADDRESS
decryption_address = "0xF0bFB159C7381F7CB332586004d8247252C5b816"

# Address of the GatewayConfig contract (required)
# Format: hex string with 0x prefix
# ENV: KMS_CONNECTOR_GATEWAY_CONFIG_ADDRESS
gateway_config_address = "0x5ffdaAB0373E62E2ea2944776209aEf29E631A64"

# KMS-core gRPC endpoint (required)
# Format: http://host:port
# ENV: KMS_CONNECTOR_KMS_CORE_ENDPOINT
kms_core_endpoint = "http://[::1]:50051"

# Gateway WebSocket RPC URL endpoint (required)
# ENV: KMS_CONNECTOR_GATEWAY_URL
gateway_url = "ws://gateway-node:8546"

# Size of the event processing channel (optional)
# ENV: KMS_CONNECTOR_CHANNEL_SIZE
channel_size = 1000

# Account index for wallet derivation (optional)
# If not specified, it will be extracted from the service name (e.g., "kms-connector-2" -> 2)
# ENV: KMS_CONNECTOR_ACCOUNT_INDEX
# account_index = 0

# Timeout for decryption requests in seconds (optional, defaults to 300s / 5min)
# ENV: KMS_CONNECTOR_DECRYPTION_TIMEOUT_SECS
# decryption_timeout_secs = 300

# Timeout for reencryption requests in seconds (optional, defaults to 300s / 5min)
# ENV: KMS_CONNECTOR_REENCRYPTION_TIMEOUT_SECS
# reencryption_timeout_secs = 300

# Retry interval in seconds (optional, defaults to 5s)
# ENV: KMS_CONNECTOR_RETRY_INTERVAL_SECS
# retry_interval_secs = 5

# EIP-712 domain name for Decryption contract (optional, defaults to "Decryption")
# ENV: KMS_CONNECTOR_DECRYPTION_DOMAIN_NAME
# decryption_domain_name = "Decryption"

# EIP-712 domain version for Decryption contract (optional, defaults to "1")
# ENV: KMS_CONNECTOR_DECRYPTION_DOMAIN_VERSION
# decryption_domain_version = "1"

# EIP-712 domain name for GatewayConfig contract (optional, defaults to "GatewayConfig")
# ENV: KMS_CONNECTOR_GATEWAY_CONFIG_DOMAIN_NAME
# gateway_config_domain_name = "GatewayConfig"

# EIP-712 domain version for GatewayConfig contract (optional, defaults to "1")
# ENV: KMS_CONNECTOR_GATEWAY_CONFIG_DOMAIN_VERSION
# gateway_config_domain_version = "1"

# Path to the signing key file (optional)
# If provided, the connector will use this signing key instead of the mnemonic
# ENV: KMS_CONNECTOR_SIGNING_KEY_PATH
# signing_key_path = "./keys/CLIENT/SigningKey/e164d9de0bec6656928726433cc56bef6ee8417ad5a4f8c82fbcc2d3e5f220fd"

# Private key as a hex string (optional)
# If provided, the connector will use this private key instead of the mnemonic or signing key file
# Format: hex string with or without 0x prefix
# IMPORTANT: Keep this secure and never share it!
# ENV: KMS_CONNECTOR_PRIVATE_KEY
# private_key = "8da4ef21b864d2cc526dbdb2a120bd2874c36c9d0a1fb7f8c63d7f7a8b41de8f"

# Whether to verify coprocessors against the GatewayConfig contract (optional, defaults to false)
# ENV: KMS_CONNECTOR_VERIFY_COPROCESSORS
# verify_coprocessors = true

# S3 configuration for ciphertext storage (optional)
# This is used for fallback ciphertext retrieval when coprocessor URLs are unavailable
# [s3_config]
# ENV: KMS_CONNECTOR_S3_CONFIG__REGION
# region = "us-east-1"
# ENV: KMS_CONNECTOR_S3_CONFIG__BUCKET
# bucket = "my-ciphertext-bucket"
# ENV: KMS_CONNECTOR_S3_CONFIG__ENDPOINT
# endpoint = "http://localhost:9876"

# AWS KMS configuration
# [aws_kms_config]
# AWS KMS key ID for signing
# ENV: KMS_CONNECTOR_AWS_KMS_CONFIG__KEY_ID
# key_id = "12345678-1234-1234-1234-123456789012"
# Optional: AWS region for KMS (if not using default from AWS credentials)
# ENV: KMS_CONNECTOR_AWS_KMS_CONFIG__REGION
# region = "us-east-1"
# Optional: AWS endpoint URL for KMS (for testing or custom endpoints)
# ENV: KMS_CONNECTOR_AWS_KMS_CONFIG__ENDPOINT
# endpoint = "https://kms.us-east-1.amazonaws.com"
